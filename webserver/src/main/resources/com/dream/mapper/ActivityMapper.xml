<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dream.dao.ActivityMapper" >
  <resultMap id="BaseResultMap" type="com.dream.bean.Activity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    <id column="activityid" property="activityid" jdbcType="INTEGER" />
    <result column="activityname" property="activityname" jdbcType="VARCHAR" />
    <result column="activitystarttime" property="activitystarttime" jdbcType="VARCHAR" />
    <result column="activityendtime" property="activityendtime" jdbcType="VARCHAR" />
    <result column="activitystatus" property="activitystatus" jdbcType="VARCHAR" />
    <result column="activityquota" property="activityquota" jdbcType="VARCHAR" />
    <result column="activityaddress" property="activityaddress" jdbcType="VARCHAR" />
    <result column="activitycreatetime" property="activitycreatetime" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    activityid, activityname, activitystarttime, activityendtime, activitystatus, activityquota, 
    activityaddress, activitycreatetime
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    select 
    <include refid="Base_Column_List" />
    from activity
    where activityid = #{activityid,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    delete from activity
    where activityid = #{activityid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.dream.bean.Activity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    <selectKey keyProperty="activityid" order="AFTER" resultType="java.lang.Integer">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into activity (activityid, activityname, activitystarttime, 
      activityendtime, activitystatus, activityquota, 
      activityaddress, activitycreatetime)
    values (#{activityid,jdbcType=INTEGER}, #{activityname,jdbcType=VARCHAR}, #{activitystarttime,jdbcType=VARCHAR}, 
      #{activityendtime,jdbcType=VARCHAR}, #{activitystatus,jdbcType=VARCHAR}, #{activityquota,jdbcType=VARCHAR}, 
      #{activityaddress,jdbcType=VARCHAR}, #{activitycreatetime,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.dream.bean.Activity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    insert into activity
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="activityid != null" >
        activityid,
      </if>
      <if test="activityname != null" >
        activityname,
      </if>
      <if test="activitystarttime != null" >
        activitystarttime,
      </if>
      <if test="activityendtime != null" >
        activityendtime,
      </if>
      <if test="activitystatus != null" >
        activitystatus,
      </if>
      <if test="activityquota != null" >
        activityquota,
      </if>
      <if test="activityaddress != null" >
        activityaddress,
      </if>
      <if test="activitycreatetime != null" >
        activitycreatetime,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="activityid != null" >
        #{activityid,jdbcType=INTEGER},
      </if>
      <if test="activityname != null" >
        #{activityname,jdbcType=VARCHAR},
      </if>
      <if test="activitystarttime != null" >
        #{activitystarttime,jdbcType=VARCHAR},
      </if>
      <if test="activityendtime != null" >
        #{activityendtime,jdbcType=VARCHAR},
      </if>
      <if test="activitystatus != null" >
        #{activitystatus,jdbcType=VARCHAR},
      </if>
      <if test="activityquota != null" >
        #{activityquota,jdbcType=VARCHAR},
      </if>
      <if test="activityaddress != null" >
        #{activityaddress,jdbcType=VARCHAR},
      </if>
      <if test="activitycreatetime != null" >
        #{activitycreatetime,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.dream.bean.Activity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    update activity
    <set >
      <if test="activityname != null" >
        activityname = #{activityname,jdbcType=VARCHAR},
      </if>
      <if test="activitystarttime != null" >
        activitystarttime = #{activitystarttime,jdbcType=VARCHAR},
      </if>
      <if test="activityendtime != null" >
        activityendtime = #{activityendtime,jdbcType=VARCHAR},
      </if>
      <if test="activitystatus != null" >
        activitystatus = #{activitystatus,jdbcType=VARCHAR},
      </if>
      <if test="activityquota != null" >
        activityquota = #{activityquota,jdbcType=VARCHAR},
      </if>
      <if test="activityaddress != null" >
        activityaddress = #{activityaddress,jdbcType=VARCHAR},
      </if>
      <if test="activitycreatetime != null" >
        activitycreatetime = #{activitycreatetime,jdbcType=VARCHAR},
      </if>
    </set>
    where activityid = #{activityid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.dream.bean.Activity" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Oct 27 23:55:35 CST 2014.
    -->
    update activity
    set activityname = #{activityname,jdbcType=VARCHAR},
      activitystarttime = #{activitystarttime,jdbcType=VARCHAR},
      activityendtime = #{activityendtime,jdbcType=VARCHAR},
      activitystatus = #{activitystatus,jdbcType=VARCHAR},
      activityquota = #{activityquota,jdbcType=VARCHAR},
      activityaddress = #{activityaddress,jdbcType=VARCHAR},
      activitycreatetime = #{activitycreatetime,jdbcType=VARCHAR}
    where activityid = #{activityid,jdbcType=INTEGER}
  </update>

	<!-- add by wsg -->
	<!-- 通用方法 -->
	<!-- ，参数为对象，返回list<对象> -->

	<select id="listActivity" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from activity
		<where>
			<choose>
				<when test="activityid != null and activityid != '' ">
					activityid = #{activityid, jdbcType=INTEGER}  
				</when>
				<when test="activityname != null and activityname != ''">
					AND activityname = #{activityname, jdbcType=VARCHAR}  
				</when>
				<when test="activitystarttime != null and activitystarttime != ''">
					AND activitystarttime = #{activitystarttime, jdbcType=VARCHAR}
				</when>
				<when test="activityendtime != null and activityendtime != ''">
					AND activityendtime = #{activityendtime, jdbcType=VARCHAR}
				</when>
				<when test="activitystatus != null and activitystatus != ''">
					AND activitystatus = #{activitystatus, jdbcType=VARCHAR}
				</when>
				<when test="activityquota != null and activityquota != ''">
					AND activityquota = #{activityquota, jdbcType=VARCHAR}
				</when>
				<when test="activityaddress != null and activityaddress != ''">
					AND activityaddress = #{activityaddress, jdbcType=VARCHAR}
				</when>
				<when test="activitycreatetime != null and activitycreatetime != ''">
					AND registertime = #{activitycreatetime, jdbcType=VARCHAR}
				</when>
			</choose>
		</where>
	</select>
	
	<select id="detailActivity" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from activity
		<where>
			<choose>
				<when test="activityid != null and activityid != '' ">
					activityid = #{activityid, jdbcType=INTEGER}  
				</when>
				<when test="activityname != null and activityname != ''">
					AND activityname = #{activityname, jdbcType=VARCHAR}  
				</when>
				<when test="activitystarttime != null and activitystarttime != ''">
					AND activitystarttime = #{activitystarttime, jdbcType=VARCHAR}
				</when>
				<when test="activityendtime != null and activityendtime != ''">
					AND activityendtime = #{activityendtime, jdbcType=VARCHAR}
				</when>
				<when test="activitystatus != null and activitystatus != ''">
					AND activitystatus = #{activitystatus, jdbcType=VARCHAR}
				</when>
				<when test="activityquota != null and activityquota != ''">
					AND activityquota = #{activityquota, jdbcType=VARCHAR}
				</when>
				<when test="activityaddress != null and activityaddress != ''">
					AND activityaddress = #{activityaddress, jdbcType=VARCHAR}
				</when>
				<when test="activitycreatetime != null and activitycreatetime != ''">
					AND registertime = #{activitycreatetime, jdbcType=VARCHAR}
				</when>
			</choose>
		</where>
	</select>

	<select id="countActivity"  resultType="java.lang.Integer">
		select count(*)  
		from activity
		<where>
			<choose>
				<when test="activityid != null and activityid != '' ">
					activityid = #{activityid, jdbcType=INTEGER}  
				</when>
				<when test="activityname != null and activityname != ''">
					AND activityname = #{activityname, jdbcType=VARCHAR}  
				</when>
				<when test="activitystarttime != null and activitystarttime != ''">
					AND activitystarttime = #{activitystarttime, jdbcType=VARCHAR}
				</when>
				<when test="activityendtime != null and activityendtime != ''">
					AND activityendtime = #{activityendtime, jdbcType=VARCHAR}
				</when>
				<when test="activitystatus != null and activitystatus != ''">
					AND activitystatus = #{activitystatus, jdbcType=VARCHAR}
				</when>
				<when test="activityquota != null and activityquota != ''">
					AND activityquota = #{activityquota, jdbcType=VARCHAR}
				</when>
				<when test="activityaddress != null and activityaddress != ''">
					AND activityaddress = #{activityaddress, jdbcType=VARCHAR}
				</when>
				<when test="activitycreatetime != null and activitycreatetime != ''">
					AND registertime = #{activitycreatetime, jdbcType=VARCHAR}
				</when>
			</choose>
		</where>
	</select>
</mapper>